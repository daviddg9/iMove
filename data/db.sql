CREATE DATABASE IMOVE;
USE IMOVE;

CREATE TABLE ROUTES(
	ROUTE_ID		    VARCHAR(10),
    ROUTE_SHORT_NAME	VARCHAR(4),
    ROUTE_LONG_NAME 	VARCHAR(125),
    ROUTE_COLOR			VARCHAR(7),
    
    PRIMARY KEY (ROUTE_ID)
);

CREATE TABLE STOPS(
	STOP_ID		VARCHAR(5),
    ROUTE_ID	VARCHAR(10),
    STOP_NAME	VARCHAR(50),
    STOP_LAT	VARCHAR(25),
    STOP_LON	VARCHAR(25),
    
    PRIMARY KEY (STOP_ID),
    CONSTRAINT FK_STOPS_ROUTE_ID FOREIGN KEY (ROUTE_ID) REFERENCES ROUTES(ROUTE_ID)
);

CREATE TABLE TRIPS(
	TRIP_ID			VARCHAR(15),
    ROUTE_ID		VARCHAR(10),
    SERVICE_ID		VARCHAR(5),
    
    PRIMARY KEY (TRIP_ID),
    CONSTRAINT FK_TRIPS_ROUTE_ID FOREIGN KEY (ROUTE_ID) REFERENCES ROUTES(ROUTE_ID)
);

CREATE TABLE STOP_TIMES(
	TRIP_ID 		VARCHAR(15),
    STOP_ID 		VARCHAR(5),
    ARRIVAL_TIME 	TIME,
    DEPARTURE_TIME 	TIME,
    STOP_SEQUENCE	INT,
    
    CONSTRAINT FK_STOP_TIMES_TRIP_ID FOREIGN KEY (TRIP_ID) REFERENCES TRIPS(TRIP_ID),
    CONSTRAINT FK_STOP_TIMES_STOP_ID FOREIGN KEY (STOP_ID) REFERENCES STOPS(STOP_ID)
);
